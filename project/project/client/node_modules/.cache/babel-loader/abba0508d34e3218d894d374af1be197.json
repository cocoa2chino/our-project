{"remainingRequest":"D:\\newwork\\project\\project\\client\\node_modules\\babel-loader\\lib\\index.js!D:\\newwork\\project\\project\\client\\node_modules\\eslint-loader\\index.js??ref--14-0!D:\\newwork\\project\\project\\client\\src\\utils\\http.js","dependencies":[{"path":"D:\\newwork\\project\\project\\client\\src\\utils\\http.js","mtime":1641518110000},{"path":"D:\\newwork\\project\\project\\client\\babel.config.js","mtime":1641180900000},{"path":"D:\\newwork\\project\\project\\client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1654159187643},{"path":"D:\\newwork\\project\\project\\client\\node_modules\\babel-loader\\lib\\index.js","mtime":1654159189886},{"path":"D:\\newwork\\project\\project\\client\\node_modules\\eslint-loader\\index.js","mtime":1654159188609}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7CmltcG9ydCBxcyBmcm9tICdxcyc7CmltcG9ydCB7IE1lc3NhZ2UgfSBmcm9tICdlbGVtZW50LXVpJzsKYXhpb3MuZGVmYXVsdHMuaGVhZGVyc1snQ29udGVudC1UeXBlJ10gPSAnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkJzsKdmFyIHNlcnZpY2UgPSBheGlvcy5jcmVhdGUoewogIGJhc2VVUkw6ICdodHRwOi8vbG9jYWxob3N0OjgwMDAvYXBpJywKICB0aW1lb3V0OiAxNTAwMAp9KTsKc2VydmljZS5pbnRlcmNlcHRvcnMucmVxdWVzdC51c2UoZnVuY3Rpb24gKGNvbmZpZykgewogIGlmIChjb25maWcubWV0aG9kID09PSAicG9zdCIpIHsKICAgIGNvbmZpZy5kYXRhID0gcXMuc3RyaW5naWZ5KGNvbmZpZy5kYXRhLCB7CiAgICAgIGluZGljZXM6IGZhbHNlCiAgICB9KTsKICB9CgogIHJldHVybiBjb25maWc7Cn0sIGZ1bmN0aW9uIChlcnJvcikgewogIFByb21pc2UucmVqZWN0KGVycm9yKTsKfSk7IC8vIHJlc3BvbmXmi6bmiKrlmagKCnNlcnZpY2UuaW50ZXJjZXB0b3JzLnJlc3BvbnNlLnVzZShmdW5jdGlvbiAoc3VjY2VzcykgewogIGlmIChzdWNjZXNzLmRhdGEuY29kZSA9PSAwKSB7CiAgICByZXR1cm4gc3VjY2Vzcy5kYXRhOwogIH0gZWxzZSBpZiAoc3VjY2Vzcy5kYXRhLmNvZGUgPT0gMSkgewogICAgcmV0dXJuIHN1Y2Nlc3MuZGF0YTsKICB9IGVsc2UgewogICAgTWVzc2FnZSh7CiAgICAgIG1lc3NhZ2U6IHN1Y2Nlc3MuZGF0YS5tc2csCiAgICAgIHR5cGU6ICdlcnJvcicsCiAgICAgIGNlbnRlcjogdHJ1ZQogICAgfSk7CiAgICByZXR1cm4gUHJvbWlzZS5yZWplY3Qoc3VjY2Vzcy5kYXRhKTsKICB9Cn0sIGZ1bmN0aW9uIChlcnJvcikgewogIE1lc3NhZ2UoewogICAgbWVzc2FnZTogJ+ezu+e7n+W8guW4uO+8jOivt+axguS4reaWrScsCiAgICB0eXBlOiAnZXJyb3InLAogICAgY2VudGVyOiB0cnVlCiAgfSk7CiAgcmV0dXJuIFByb21pc2UucmVqZWN0KGVycm9yKTsKfSk7CmV4cG9ydCBkZWZhdWx0IHNlcnZpY2U7"},{"version":3,"names":["axios","qs","Message","defaults","headers","service","create","baseURL","timeout","interceptors","request","use","config","method","data","stringify","indices","error","Promise","reject","response","success","code","message","msg","type","center"],"sources":["D:/newwork/project/project/client/src/utils/http.js"],"sourcesContent":["import axios from 'axios'\r\nimport qs from 'qs'\r\nimport {\r\n\tMessage\r\n} from 'element-ui'\r\n\r\naxios.defaults.headers['Content-Type'] = 'application/x-www-form-urlencoded';\r\n\r\nconst service = axios.create({\r\n\tbaseURL: 'http://localhost:8000/api',\r\n\ttimeout: 15000 \r\n})\r\n\r\nservice.interceptors.request.use(config => {\r\n\t\r\n\tif(config.method === \"post\"){\r\n\t\t\r\n\t\tconfig.data = qs.stringify(config.data,  { indices: false });\r\n\t}\r\n\t\r\n\treturn config;\r\n}, error => {\r\n\tPromise.reject(error)\r\n})\r\n\r\n// respone拦截器\r\nservice.interceptors.response.use(\r\n\tsuccess => {\r\n\r\n\t\tif (success.data.code == 0) {\r\n\r\n\t\t\treturn success.data;\r\n\r\n\t\t}else if (success.data.code == 1){\r\n\r\n\t\t\treturn success.data;\r\n\t\t} else {\r\n\r\n\t\t\tMessage({\r\n\t\t\t\tmessage: success.data.msg,\r\n\t\t\t\ttype: 'error',\r\n\t\t\t\tcenter: true\r\n\t\t\t});\r\n\t\t\treturn Promise.reject(success.data);\r\n\t\t}\r\n\t},\r\n\terror => {\r\n\t\tMessage({\r\n\t\t\tmessage: '系统异常，请求中断',\r\n\t\t\ttype: 'error',\r\n\t\t\tcenter: true\r\n\t\t});\r\n\t\treturn Promise.reject(error);\r\n\t}\r\n)\r\n\r\nexport default service\r\n"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,EAAP,MAAe,IAAf;AACA,SACCC,OADD,QAEO,YAFP;AAIAF,KAAK,CAACG,QAAN,CAAeC,OAAf,CAAuB,cAAvB,IAAyC,mCAAzC;AAEA,IAAMC,OAAO,GAAGL,KAAK,CAACM,MAAN,CAAa;EAC5BC,OAAO,EAAE,2BADmB;EAE5BC,OAAO,EAAE;AAFmB,CAAb,CAAhB;AAKAH,OAAO,CAACI,YAAR,CAAqBC,OAArB,CAA6BC,GAA7B,CAAiC,UAAAC,MAAM,EAAI;EAE1C,IAAGA,MAAM,CAACC,MAAP,KAAkB,MAArB,EAA4B;IAE3BD,MAAM,CAACE,IAAP,GAAcb,EAAE,CAACc,SAAH,CAAaH,MAAM,CAACE,IAApB,EAA2B;MAAEE,OAAO,EAAE;IAAX,CAA3B,CAAd;EACA;;EAED,OAAOJ,MAAP;AACA,CARD,EAQG,UAAAK,KAAK,EAAI;EACXC,OAAO,CAACC,MAAR,CAAeF,KAAf;AACA,CAVD,E,CAYA;;AACAZ,OAAO,CAACI,YAAR,CAAqBW,QAArB,CAA8BT,GAA9B,CACC,UAAAU,OAAO,EAAI;EAEV,IAAIA,OAAO,CAACP,IAAR,CAAaQ,IAAb,IAAqB,CAAzB,EAA4B;IAE3B,OAAOD,OAAO,CAACP,IAAf;EAEA,CAJD,MAIM,IAAIO,OAAO,CAACP,IAAR,CAAaQ,IAAb,IAAqB,CAAzB,EAA2B;IAEhC,OAAOD,OAAO,CAACP,IAAf;EACA,CAHK,MAGC;IAENZ,OAAO,CAAC;MACPqB,OAAO,EAAEF,OAAO,CAACP,IAAR,CAAaU,GADf;MAEPC,IAAI,EAAE,OAFC;MAGPC,MAAM,EAAE;IAHD,CAAD,CAAP;IAKA,OAAOR,OAAO,CAACC,MAAR,CAAeE,OAAO,CAACP,IAAvB,CAAP;EACA;AACD,CAnBF,EAoBC,UAAAG,KAAK,EAAI;EACRf,OAAO,CAAC;IACPqB,OAAO,EAAE,WADF;IAEPE,IAAI,EAAE,OAFC;IAGPC,MAAM,EAAE;EAHD,CAAD,CAAP;EAKA,OAAOR,OAAO,CAACC,MAAR,CAAeF,KAAf,CAAP;AACA,CA3BF;AA8BA,eAAeZ,OAAf"}]}